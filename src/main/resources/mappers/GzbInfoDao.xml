<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.tj.resolvedemo.mapper.GzbInfoMapper">

    <!--orecle ：createmaxno('gzbId', to_char(sysdate,'yyyyMMdd'), '0', 20) gzbId, -->
    <!--mysql ： createmaxno('gzbId', date_format(SYSDATE(),"%Y%m%d"), '0', 19), -->

    <!--oracle插入表语句-->
    <insert id="insertGzbInfos" parameterType="java.util.HashMap">
        insert into GZB(id,fbjsj,fbjsj_gzzz)
        <foreach collection="gzbInfos" item="gzb" index="index" separator=" union all ">
            select
            createmaxno('gzbId', to_char(sysdate,'yyyyMMdd'), '0', 20) gzbId,
            #{gzb.FBJSJ, jdbcType=NUMERIC},
            #{gzb.FBJSJ_GZZZ, jdbcType=NUMERIC}
            from dual
        </foreach>
    </insert>

    <!--oracle插入表语句-->
    <insert id="startInsertGzbInfos" parameterType="java.util.HashMap">
        insert into GZB(id, fbjsj, fbjsj_gzzz, fbjsj_sz, fcb_jz_bl, fcur_jy_fy, fdate, fgz_zz, fhqbz, fhqjg, fkmbm,
                      fkmmc, fqyxx, fsjsj, fsjsj_gzzz, fsjsj_sz, fsz_jz_bl, ftpxx, fzqcb, fzqsl, serial_no)
        <foreach collection="gzbInfos" item="gzb" index="index" separator=" union all ">
          select
            createmaxno('gzbId', to_char(sysdate,'yyyyMMdd'), '0', 20) gzbId,
            #{gzb.FBJSJ, jdbcType=NUMERIC},
            #{gzb.FBJSJ_GZZZ, jdbcType=NUMERIC},
            #{gzb.FBJSJ_SZ, jdbcType=NUMERIC},
            #{gzb.FCb_Jz_bl, jdbcType=VARCHAR},
            #{gzb.FCurJyFy, jdbcType=NUMERIC},
            #{gzb.FDate, jdbcType=DATE},
            #{gzb.FGz_zz, jdbcType=NUMERIC},
            #{gzb.FHqbz, jdbcType=VARCHAR},
            #{gzb.FHqjg, jdbcType=NUMERIC},
            #{gzb.FKmbm, jdbcType=VARCHAR},

            #{gzb.FKmmc, jdbcType=VARCHAR},
            #{gzb.FQyxx, jdbcType=VARCHAR},
            #{gzb.FSJSJ, jdbcType=NUMERIC},
            #{gzb.FSJSJ_GZZZ, jdbcType=NUMERIC},
            #{gzb.FSJSJ_SZ, jdbcType=NUMERIC},
            #{gzb.FSz_Jz_bl, jdbcType=VARCHAR},
            #{gzb.FTpxx, jdbcType=VARCHAR},
            #{gzb.FZqcb, jdbcType=NUMERIC},
            #{gzb.FZqsl, jdbcType=NUMERIC},
            #{gzb.serialNo, jdbcType=NUMERIC}
          from dual
        </foreach>
    </insert>

    <!--线程插入 startInsertGzbConInfos-->
    <!--oracle插入表语句-->
    <insert id="startInsertGzbConInfos" parameterType="java.util.HashMap">
        insert into GZB(id, fbjsj, fbjsj_gzzz, fbjsj_sz, fcb_jz_bl, fcur_jy_fy, fdate, fgz_zz, fhqbz, fhqjg, fkmbm,
                      fkmmc, fqyxx, fsjsj, fsjsj_gzzz, fsjsj_sz, fsz_jz_bl, ftpxx, fzqcb, fzqsl, serial_no)
        <foreach collection="gzbInfos" item="gzb" index="index" separator=" union all ">
          select
            createmaxno('gzbId', to_char(sysdate,'yyyyMMdd'), '0', 20) gzbId,
            #{gzb.FBJSJ, jdbcType=NUMERIC},
            #{gzb.FBJSJ_GZZZ, jdbcType=NUMERIC},
            #{gzb.FBJSJ_SZ, jdbcType=NUMERIC},
            #{gzb.FCb_Jz_bl, jdbcType=VARCHAR},
            #{gzb.FCurJyFy, jdbcType=NUMERIC},
            #{gzb.FDate, jdbcType=DATE},
            #{gzb.FGz_zz, jdbcType=NUMERIC},
            #{gzb.FHqbz, jdbcType=VARCHAR},
            #{gzb.FHqjg, jdbcType=NUMERIC},
            #{gzb.FKmbm, jdbcType=VARCHAR},

            #{gzb.FKmmc, jdbcType=VARCHAR},
            #{gzb.FQyxx, jdbcType=VARCHAR},
            #{gzb.FSJSJ, jdbcType=NUMERIC},
            #{gzb.FSJSJ_GZZZ, jdbcType=NUMERIC},
            #{gzb.FSJSJ_SZ, jdbcType=NUMERIC},
            #{gzb.FSz_Jz_bl, jdbcType=VARCHAR},
            #{gzb.FTpxx, jdbcType=VARCHAR},
            #{gzb.FZqcb, jdbcType=NUMERIC},
            #{gzb.FZqsl, jdbcType=NUMERIC},
            #{gzb.serialNo, jdbcType=NUMERIC}
          from dual
        </foreach>
    </insert>


    <!--mysql使用主键自增，添加属性：useGeneratedKeys="true" keyProperty="id" keyColumn = "id"-->
    <!--useGeneratedKeys="true"  设置主键自增;keyProperty="id"   对应的对象;keyColumn = "id"    对应的数据库字段，默认对应表的第一个字段。-->
    <!--mysql插入表语句-->
    <insert id="startInsertGzbConInfos_mysql" parameterType="java.util.HashMap" useGeneratedKeys="true" keyColumn = "id">
        insert into GZB(fbjsj, fbjsj_gzzz, fbjsj_sz, fcb_jz_bl, fcur_jy_fy, fdate, fgz_zz, fhqbz, fhqjg, fkmbm,
        fkmmc, fqyxx, fsjsj, fsjsj_gzzz, fsjsj_sz, fsz_jz_bl, ftpxx, fzqcb, fzqsl, serial_no)
        <foreach collection="gzbInfos" item="gzb" index="index" separator=" union all ">
            select
            #{gzb.FBJSJ, jdbcType=NUMERIC},
            #{gzb.FBJSJ_GZZZ, jdbcType=NUMERIC},
            #{gzb.FBJSJ_SZ, jdbcType=NUMERIC},
            #{gzb.FCb_Jz_bl, jdbcType=VARCHAR},
            #{gzb.FCurJyFy, jdbcType=NUMERIC},
            #{gzb.FDate, jdbcType=DATE},
            #{gzb.FGz_zz, jdbcType=NUMERIC},
            #{gzb.FHqbz, jdbcType=VARCHAR},
            #{gzb.FHqjg, jdbcType=NUMERIC},
            #{gzb.FKmbm, jdbcType=VARCHAR},

            #{gzb.FKmmc, jdbcType=VARCHAR},
            #{gzb.FQyxx, jdbcType=VARCHAR},
            #{gzb.FSJSJ, jdbcType=NUMERIC},
            #{gzb.FSJSJ_GZZZ, jdbcType=NUMERIC},
            #{gzb.FSJSJ_SZ, jdbcType=NUMERIC},
            #{gzb.FSz_Jz_bl, jdbcType=VARCHAR},
            #{gzb.FTpxx, jdbcType=VARCHAR},
            #{gzb.FZqcb, jdbcType=NUMERIC},
            #{gzb.FZqsl, jdbcType=NUMERIC},
            #{gzb.serialNo, jdbcType=NUMERIC}
            from dual
        </foreach>
    </insert>
</mapper>